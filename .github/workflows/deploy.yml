name: Deploy Action
on: 
  push: 
    branches:
      - main
jobs: 
  deploy-to-server:
    runs-on: ubuntu-latest
    steps:
    - name: ðŸšš Getting Latest code
      uses: actions/checkout@v2
    - name: ðŸŽ€ Setting up environment
      uses: shivammathur/setup-php@v2
      with:
        php-version: '7.4'
    - name: Speed up the packages installation process
      run: composer global require hirak/prestissimo
    - name: ðŸ’£ Installing dependencies
      run: composer install --no-dev
    - name: Listing files
      run: ls
    - name: ðŸ“‚ Sync files to server
      uses: SamKirkland/FTP-Deploy-Action@4.0.0
      with:
        server: ideaux.in
        username: ${{ secrets.FTP_USER }}
        password: ${{ secrets.FTP_PASSWORD }}
        server-dir: ./public_html/billocity/
        local-dir: ./
