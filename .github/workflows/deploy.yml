name: Deploy Action
on: 
  push: 
    branches:
      - main
jobs: 
  deploy-to-server:
    runs-on: ubuntu-latest
    steps:
    - name: ðŸšš Getting Latest code
      uses: actions/checkout@v2
    - name: Setup PHP
      uses: shivammathur/setup-php@v2
      with:
        php-version: 7.3
        extensions: dom, curl, libxml, mbstring, zip, pcntl, pdo, sqlite, pdo_sqlite
        coverage: none
    - name: Install Composer dependencies
      run: composer install --prefer-dist --no-interaction --no-suggest
    - name: Listing files
      run: ls
    - name: ðŸ“‚ Sync files to server
      uses: SamKirkland/FTP-Deploy-Action@4.0.0
      with:
        server: ideaux.in
        username: ${{ secrets.FTP_USER }}
        password: ${{ secrets.FTP_PASSWORD }}
        server-dir: ./public_html/billocity/
        local-dir: ./
